[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.backend"

[deploy]
startCommand = "sh entrypoint-railway-final.sh"
healthcheckPath = "/health/"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[build.environment]
NODE_ENV = "production"
CI = "false"

[env]
DJANGO_SETTINGS_MODULE = "myproject.settings.production"
PYTHONUNBUFFERED = "1"
PYTHONDONTWRITEBYTECODE = "1"
GUNICORN_WORKERS = "3"
GUNICORN_WORKER_CLASS = "sync"
GUNICORN_TIMEOUT = "120"
GUNICORN_LOG_LEVEL = "info"
